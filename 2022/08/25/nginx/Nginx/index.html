<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Nginx | SK370 åšå®¢</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  
    <meta name="keywords" content="SK370, JAVA, åšå®¢">
  
  
    <link rel="alternate" href="/atom.xml" title="SK370 åšå®¢" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
    
<link rel="stylesheet" href="/localshare/css/share.css">

  
  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">SK370 åšå®¢</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">SK370çš„ä¸ªäººåšå®¢</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/."><i class="fa fa-home"></i> é¦–é¡µ</a>
        
          <a class="main-nav-link" href="/archives/"><i class="fa fa-archive"></i> å½’æ¡£</a>
        
          <a class="main-nav-link" href="/about/"><i class="fa fa-user"></i> å…³äº</a>
        
      </nav>
    </div>
    <div id="search-form">
      <div id="result-mask" class="hide"></div>
      <label><input id="search-key" type="text" autocomplete="off" placeholder="æœç´¢"></label>
      <div id="result-wrap" class="hide">
        <div id="search-result"></div>
      </div>
      <div class="hide">
        <template id="search-tpl">
          <div class="item">
            <a href="/{path}" title="{title}">
              <div class="title">{title}</div>
              <div class="time">{date}</div>
              <div class="tags">{tags}</div>
            </a>
          </div>
        </template>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-nginx/Nginx" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Nginx
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2022-08-25T02:48:14.000Z" itemprop="datePublished">2022å¹´08æœˆ25æ—¥</time>
</span>
      
  <div class="article-category">
    <i class="fa fa-classify"></i>
    <a class="article-category-link" href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/">æœåŠ¡å™¨</a>
  </div>

      
        <span class="article-views">
  <i class="fa fa-views"></i>
  <i id="busuanzi_container_page_pv">
      <i id="busuanzi_value_page_pv"></i>
  </i>
</span>

      
      
<a href="/2022/08/25/nginx/Nginx/#comments" class="article-comment-link">
  
    
    
    
    
    
  
  <i class="fa fa-commt"></i>
  ç•™è¨€
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><em>Nginx (engine x) æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„HTTPå’Œåå‘ä»£ç†webæœåŠ¡å™¨ï¼ŒåŒæ—¶ä¹Ÿæä¾›äº†IMAP/POP3/SMTPæœåŠ¡ã€‚å› å…¶ç¨³å®šæ€§ã€ä¸°å¯Œçš„åŠŸèƒ½é›†ã€ç®€å•çš„é…ç½®æ–‡ä»¶å’Œä½ç³»ç»Ÿèµ„æºçš„æ¶ˆè€—è€Œé—»åã€‚åœ¨BSD-like åè®®ä¸‹å‘è¡Œã€‚å…¶ç‰¹ç‚¹æ˜¯å æœ‰å†…å­˜å°‘ï¼Œå¹¶å‘èƒ½åŠ›å¼ºã€‚</em></p>
<span id="more"></span>
<blockquote>
<ul>
<li>åœ¨è¿™ä¸ªè™šæ‹Ÿæœºä¸­</li>
<li><img src="/2022/08/25/nginx/Nginx/image.png" alt="image.png"></li>
</ul>
</blockquote>
<h2 id="0-å‡†å¤‡"><a class="markdownIt-Anchor" href="#0-å‡†å¤‡"></a> 0. å‡†å¤‡</h2>
<h3 id="01-å®‰è£…-centos-è¿·ä½ ç‰ˆ"><a class="markdownIt-Anchor" href="#01-å®‰è£…-centos-è¿·ä½ ç‰ˆ"></a> 0.1 å®‰è£… Centos è¿·ä½ ç‰ˆ</h3>
<p>æç®€å®‰è£…ï¼šä¸€è·¯é»˜è®¤ã€‚</p>
<h3 id="02-ç½‘ç»œé…ç½®"><a class="markdownIt-Anchor" href="#02-ç½‘ç»œé…ç½®"></a> 0.2 ç½‘ç»œé…ç½®</h3>
<ul>
<li>centos7 ä¸­ï¼ŒæŸ¥çœ‹æœ¬æœº ip æŒ‡ä»¤å˜æˆäº†<code>ip addr</code>
<ul>
<li><img src="/2022/08/25/nginx/Nginx/image-1669758182534.png" alt="image.png"></li>
</ul>
</li>
<li>ä¿®æ”¹ç½‘å¡é…ç½®ï¼Œè®¾ç½®ä¸ºå¼€æœºå³å¯åŠ¨ç½‘å¡ï¼š<code>vi /etc/sysconfig/network-scripts/ifcfg-ens33</code>
<ul>
<li><img src="/2022/08/25/nginx/Nginx/image-1669758184106.png" alt="image.png"></li>
</ul>
</li>
<li>é‡å¯ç½‘è·¯æœåŠ¡ï¼š<code>systemctl restart network</code></li>
</ul>
<h3 id="03-é…ç½®é™æ€-ip"><a class="markdownIt-Anchor" href="#03-é…ç½®é™æ€-ip"></a> 0.3 é…ç½®é™æ€ ip</h3>
<ul>
<li>ä¿®æ”¹ç½‘å¡é…ç½®ï¼š<code>vi /etc/sysconfig/network-scripts/ifcfg-ens33</code>
<ul>
<li><img src="/2022/08/25/nginx/Nginx/image-1669758187326.png" alt="image.png"></li>
</ul>
</li>
<li>é‡å¯ç½‘è·¯æœåŠ¡ï¼š<code>systemctl restart network</code></li>
</ul>
<h3 id="04-è§£å†³è®¾ç½®é™æ€-ip-åæ— æ³•è”ç½‘é—®é¢˜"><a class="markdownIt-Anchor" href="#04-è§£å†³è®¾ç½®é™æ€-ip-åæ— æ³•è”ç½‘é—®é¢˜"></a> 0.4 è§£å†³è®¾ç½®é™æ€ IP åæ— æ³•è”ç½‘é—®é¢˜</h3>
<p>æ— æ³•è”ç½‘è¡¨ç°ï¼š<br>
<img src="/2022/08/25/nginx/Nginx/image-1669758189201.png" alt="image.png"></p>
<h4 id="041-æ’æŸ¥ç½‘å…³è®¾ç½®æ˜¯å¦æ­£ç¡®"><a class="markdownIt-Anchor" href="#041-æ’æŸ¥ç½‘å…³è®¾ç½®æ˜¯å¦æ­£ç¡®"></a> 0.4.1 æ’æŸ¥ç½‘å…³è®¾ç½®æ˜¯å¦æ­£ç¡®</h4>
<ol>
<li><img src="/2022/08/25/nginx/Nginx/image-1669758191092.png" alt="image.png"></li>
<li><img src="/2022/08/25/nginx/Nginx/image-1669758192486.png" alt="image.png"></li>
<li><img src="/2022/08/25/nginx/Nginx/image-1669758194713.png" alt="image.png"></li>
</ol>
<p>å¯ä»¥çœ‹åˆ°ç½‘å…³åœ°å€æ²¡æœ‰è®¾ç½®æ­£ç¡®ã€‚æŒ‰ç…§ 0.3 ä¿®æ”¹å³å¯ã€‚</p>
<h3 id="05-å®‰è£…-tomcat-æœåŠ¡å™¨"><a class="markdownIt-Anchor" href="#05-å®‰è£…-tomcat-æœåŠ¡å™¨"></a> 0.5 å®‰è£… Tomcat æœåŠ¡å™¨</h3>
<p>å®‰è£… tomcat æœåŠ¡å™¨ï¼Œä½œä¸ºåº”ç”¨æœåŠ¡å™¨ã€‚</p>
<ol>
<li>å¤åˆ¶æ–‡ä»¶ï¼š</li>
</ol>
<p><img src="/2022/08/25/nginx/Nginx/image-1669758197876.png" alt="image.png"></p>
<ol start="2">
<li>è§£å‹ç¼©ï¼š<code>tar -zxvf apache-tomcat-8.5.82.tar.gz </code></li>
<li>å°†è§£å‹ç›®å½•ç§»åŠ¨è‡³/usr/local/tomcat æ–‡ä»¶å¤¹ä¸‹ï¼š<code>mv apache-tomcat-8.5.82 /usr/local/tomcat</code>
<ul>
<li><code>mv apache-tomcat-8.5.82 /usr/local/tomcat</code>ä¸<code>mv apache-tomcat-8.5.82/ /usr/local/tomcat</code>çš„åŒºåˆ«</li>
<li><code>mv apache-tomcat-8.5.82 /usr/local/tomcat</code>ä¼šæŠŠ apache-tomcat-8.5.82 é‡Œé¢çš„å†…å®¹ç§»åˆ° tomcat æ–‡ä»¶å¤¹ä¸‹ï¼Œapache-tomcat-8.5.82 æ–‡ä»¶å¤¹åˆ é™¤ã€‚</li>
<li><code>mv apache-tomcat-8.5.82/ /usr/local/tomcat</code>ä¼šæŠŠ apache-tomcat-8.5.82 æ•´ä¸ªæ–‡ä»¶å¤¹æ”¾åœ¨ tomcat æ–‡ä»¶å¤¹ä¸‹</li>
</ul>
</li>
<li>è¿›å…¥ tomcat/bin ç›®å½•ï¼Œæ‰§è¡Œ<code>./startup.sh</code>
<ul>
<li><img src="/2022/08/25/nginx/Nginx/2022-12-03-12-39-12.png" alt></li>
</ul>
</li>
<li>è®¿é—®æµ‹è¯•ï¼š
<ul>
<li><img src="/2022/08/25/nginx/Nginx/image-1669758203840.png" alt="image.png"></li>
<li><img src="/2022/08/25/nginx/Nginx/image-1669758200561.png" alt="image.png"></li>
<li>æ³¨ï¼šè¿™é‡Œå·²ç»æå‰å…³é—­é‡Œ linux çš„é˜²ç«å¢™ã€‚åŒæ—¶ä¹Ÿè®¾ç½®äº†é˜¿é‡Œäº‘åŸŸåè§£æã€‚</li>
</ul>
</li>
</ol>
<h2 id="1-nginx-ä»‹ç»"><a class="markdownIt-Anchor" href="#1-nginx-ä»‹ç»"></a> 1. Nginx ä»‹ç»</h2>
<h3 id="11-ç‰ˆæœ¬ä»‹ç»"><a class="markdownIt-Anchor" href="#11-ç‰ˆæœ¬ä»‹ç»"></a> 1.1 ç‰ˆæœ¬ä»‹ç»</h3>
<p>Nginx å¼€æºç‰ˆï¼š<a target="_blank" rel="noopener" href="http://nginx.org/">http://nginx.org/</a></p>
<ul>
<li>æ— å…¶ä»–é¢å¤–åŠŸèƒ½</li>
</ul>
<p>Nginx plus å•†ä¸šç‰ˆï¼š<a target="_blank" rel="noopener" href="https://www.nginx.com">https://www.nginx.com</a></p>
<ul>
<li>ä»€ä¹ˆéƒ½æœ‰ï¼Œä½†æ”¶è´¹</li>
</ul>
<p>openrestyï¼š<a target="_blank" rel="noopener" href="http://openresty.org/cn/">http://openresty.org/cn/</a></p>
<ul>
<li>ä»¥ lua è„šæœ¬å¯¹ nginx è¿›è¡ŒåŠŸèƒ½æ‰©å±•ï¼Œå…è´¹ã€‚</li>
</ul>
<p>Tengineï¼š<a target="_blank" rel="noopener" href="http://tengine.taobao.org/">http://tengine.taobao.org/</a></p>
<ul>
<li>æ·˜å®å¼€æºçš„ä»¥ C è¯­è¨€å¯¹ nginx è¿›è¡Œæ‰©å±•çš„é¡¹ç›®ï¼Œé›†æˆåº¦éå¸¸é«˜ã€‚</li>
</ul>
<h3 id="12-nginx-å¼€æºç‰ˆå®‰è£…"><a class="markdownIt-Anchor" href="#12-nginx-å¼€æºç‰ˆå®‰è£…"></a> 1.2 Nginx å¼€æºç‰ˆå®‰è£…</h3>
<ol>
<li>å¤åˆ¶æ–‡ä»¶ï¼š</li>
</ol>
<p><img src="/2022/08/25/nginx/Nginx/image-1669758210048.png" alt="image.png"></p>
<ol start="2">
<li>
<p>è§£å‹ç¼©ï¼š<code>tar -zxvf nginx-1.21.6.tar.gz</code></p>
</li>
<li>
<p>è¿›å…¥è§£å‹ç›®å½•ï¼š<code>cd nginx-1.21.6</code></p>
</li>
<li>
<p>æ‰§è¡Œå®‰è£…æ–‡ä»¶ï¼š<code>./configure</code></p>
<ul>
<li>å®‰è£…åˆ°æŒ‡å®šç›®å½•ï¼š<code>./configure --prefix=/usr/local/nginx </code>
<ul>
<li><strong>è¿™é‡Œå®‰è£…åˆ°äº†</strong><code>**/usr/local/nginx**</code><strong>ï¼Œç›¸å½“äº c ç›˜ programfile</strong></li>
</ul>
</li>
<li>è§£å†³å®‰è£…æ—¶æŠ¥çš„ errorï¼š
<ul>
<li>å®‰è£… gccï¼ˆc è¯­è¨€ç¼–è¯‘å™¨ï¼‰ï¼š<code>yum install -y gcc</code></li>
<li><img src="/2022/08/25/nginx/Nginx/image-1669758230505.png" alt="image.png"></li>
<li>å®‰è£… perl åº“ï¼š<code>yum install -y pcre pcre-devel</code></li>
<li><img src="/2022/08/25/nginx/Nginx/image-1669758232222.png" alt="image.png"></li>
<li>å®‰è£… zlib åº“ï¼š<code>yum install -y zlib zlib-devel</code></li>
</ul>
</li>
<li>å®‰è£…æˆåŠŸæç¤ºï¼š
<ul>
<li><img src="/2022/08/25/nginx/Nginx/image-1669758216927.png" alt="image.png"></li>
</ul>
</li>
</ul>
</li>
<li>
<p>è¿›è¡Œç¼–è¯‘ï¼š<code>make</code></p>
</li>
<li>
<p>è¿›è¡Œå®‰è£…ï¼š<code>make install</code></p>
</li>
<li>
<p>æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸï¼š</p>
<ul>
<li><img src="/2022/08/25/nginx/Nginx/image-1669758225829.png" alt="image.png"></li>
<li>å…³é—­é˜²ç«å¢™ï¼š<code>systemctl stop firewalld</code></li>
<li>æœ¬åœ°ä¸»æœºæµè§ˆå™¨æŸ¥çœ‹ï¼šè®¿é—®åœ°å€æ˜¯è®¾å®šçš„è™šæ‹Ÿæœºçš„ ipï¼Œnginx ç«¯å£é»˜è®¤ä¸º 80ï¼Œå¯ä»¥çœç•¥ã€‚
<ul>
<li><img src="/2022/08/25/nginx/Nginx/image-1669758223393.png" alt="image.png"></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Nginx å‘½ä»¤ï¼š</p>
<ul>
<li><code>./nginx</code> å¯åŠ¨</li>
<li><code>./nginx -s stop </code>å¿«é€Ÿåœæ­¢</li>
<li><code>./nginx -s quit</code> ä¼˜é›…å…³é—­ï¼Œåœ¨é€€å‡ºå‰å®Œæˆå·²ç»æ¥å—çš„è¿æ¥è¯·æ±‚</li>
<li><code>./nginx -s reload</code> é‡æ–°åŠ è½½é…ç½®ï¼Œè€Œä¸ç”¨é‡å¯ nginx æœåŠ¡å™¨ã€‚æœºåˆ¶æ˜¯ nginx æ€æ­»åŸçº¿ç¨‹ï¼Œå¼€å¯ä¸€ä¸ªæ–°çº¿ç¨‹ã€‚</li>
</ul>
</li>
<li>
<p>ç»™ nginx è®¾ç½®è„šæœ¬ï¼Œå¿«é€Ÿå¯åŠ¨ nignxï¼Œè€Œä¸ç”¨è¿›å…¥å®‰è£…ç›®å½•å»æ‰§è¡Œæ–‡ä»¶ï¼š</p>
<ul>
<li>åˆ›å»ºæœåŠ¡è„šæœ¬ï¼š<code>vi /usr/lib/systemd/system/nginx.service</code></li>
<li>å†™å…¥æ–‡ä»¶ï¼š</li>
</ul>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=nginx - web server</span><br><span class="line">After=network.target remote-fs.target nss-lookup.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=forking</span><br><span class="line">PIDFile=/usr/local/nginx/logs/nginx.pid</span><br><span class="line">ExecStartPre=/usr/local/nginx/sbin/nginx -t -c /usr/local/nginx/conf/nginx.conf</span><br><span class="line">ExecStart=/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf</span><br><span class="line">ExecReload=/usr/local/nginx/sbin/nginx -s reload</span><br><span class="line">ExecStop=/usr/local/nginx/sbin/nginx -s stop</span><br><span class="line">ExecQuit=/usr/local/nginx/sbin/nginx -s quit</span><br><span class="line">PrivateTmp=true</span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>
<ul>
<li>é‡å¯ç³»ç»ŸåŠ è½½æœåŠ¡ï¼š<code>systemctl daemon-reload</code></li>
<li>åœæ­¢æ—§çš„ nginx è¿›ç¨‹ã€‚
<ul>
<li><img src="/2022/08/25/nginx/Nginx/image-1669758243565.png" alt="image.png"></li>
</ul>
</li>
<li>ä½¿ç”¨è„šæœ¬å¯åŠ¨æ–° nginxï¼š<code>systemctl start nginx.service</code></li>
<li>æŸ¥çœ‹ nginx çŠ¶æ€ï¼š<code>systemctl status nginx</code>æˆ–è€…æŸ¥çœ‹è¿›ç¨‹
<ul>
<li><img src="/2022/08/25/nginx/Nginx/image-1669758246061.png" alt="image.png"></li>
</ul>
</li>
</ul>
</li>
<li>
<p>åˆ©ç”¨è„šæœ¬è®¾ç½® nginx å¼€æœºå¯åŠ¨ï¼š<code>systemctl enable nginx.service</code></p>
</li>
</ol>
<h3 id="13-é˜²ç«å¢™è¡¥å……çŸ¥è¯†"><a class="markdownIt-Anchor" href="#13-é˜²ç«å¢™è¡¥å……çŸ¥è¯†"></a> 1.3 é˜²ç«å¢™è¡¥å……çŸ¥è¯†</h3>
<p>å…³é—­é˜²ç«å¢™<br>
<code>systemctl stop firewalld.service</code><br>
ç¦æ­¢é˜²ç«å¢™å¼€æœºå¯åŠ¨<br>
<code>systemctl disable firewalld.service</code><br>
æ”¾è¡Œç«¯å£<br>
<code>firewall-cmd --zone=public --add-port=80/tcp --permanent</code><br>
é‡å¯é˜²ç«å¢™<br>
<code>firewall-cmd --reload</code><br>
æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€<br>
<code>systemctl status firewalld</code><br>
é‡è½½é˜²ç«å¢™è§„åˆ™<br>
<code>firewall-cmd --reload</code><br>
æŸ¥çœ‹å·²é…ç½®é˜²ç«å¢™è§„åˆ™<br>
<code>firewall-cmd --list-all</code><br>
é™å®šè®¿é—®ç«¯å£ä¸è®¿é—® ip<br>
<code>firewall-cmd --permanent --add-rich-rule=&quot;rule family=&quot;ipv4&quot; source address=&quot;192.168.44.101&quot; port protocol=&quot;tcp&quot; port=&quot;8080&quot; accept</code><br>
ç§»é™¤è§„åˆ™<br>
<code>firewall-cmd --permanent --remove-rich-rule=&quot;rule family=&quot;ipv4&quot; source address=&quot;192.168.44.101&quot; port port=&quot;8080&quot; protocol=&quot;tcp&quot; accept</code></p>
<h3 id="14-æ–‡ä»¶ç»“æ„"><a class="markdownIt-Anchor" href="#14-æ–‡ä»¶ç»“æ„"></a> 1.4 æ–‡ä»¶ç»“æ„</h3>
<p><img src="/2022/08/25/nginx/Nginx/image-1669758249139.png" alt="image.png"><br>
é»˜è®¤åªæœ‰çº¢æ¡†çš„å‡ ä¸ªæ–‡ä»¶ï¼Œå¸¦ temp çš„æ–‡ä»¶æ˜¯è¿è¡Œè¿‡ç¨‹çš„ç¼“å­˜æ–‡ä»¶ã€‚</p>
<h3 id="15-åŸºæœ¬è¿è¡ŒåŸç†"><a class="markdownIt-Anchor" href="#15-åŸºæœ¬è¿è¡ŒåŸç†"></a> 1.5 åŸºæœ¬è¿è¡ŒåŸç†</h3>
<p>nginx å¯åŠ¨åä¼šå¯åŠ¨ master ä¸»è¿›ç¨‹å’Œ work å­è¿›ç¨‹ï¼Œä¸»è¿›ç¨‹è´Ÿè´£åè°ƒå­è¿›ç¨‹ï¼Œä¸»è¿›ç¨‹ä¸»è¦è¿›è¡Œé…ç½®æ–‡ä»¶æ ¡éªŒï¼Œå­è¿›ç¨‹è´Ÿè´£å¤„ç†è¯·æ±‚ã€‚</p>
<h3 id="16-nginx-é…ç½®æ–‡ä»¶"><a class="markdownIt-Anchor" href="#16-nginx-é…ç½®æ–‡ä»¶"></a> 1.6 nginx é…ç½®æ–‡ä»¶</h3>
<h4 id="161-æœ€å°é…ç½®æ–‡ä»¶"><a class="markdownIt-Anchor" href="#161-æœ€å°é…ç½®æ–‡ä»¶"></a> 1.6.1 æœ€å°é…ç½®æ–‡ä»¶</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">worker_processes  1;</span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  1024;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">  include       mime.types;</span><br><span class="line">  default_type  application/octet-stream;</span><br><span class="line"></span><br><span class="line">  sendfile        on;</span><br><span class="line"></span><br><span class="line">  keepalive_timeout  65;</span><br><span class="line"></span><br><span class="line">  server &#123;</span><br><span class="line">      listen       80;</span><br><span class="line">      server_name  localhost;</span><br><span class="line"></span><br><span class="line">      location / &#123;</span><br><span class="line">          root   html;</span><br><span class="line">          index  index.html index.htm;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      error_page   500 502 503 504  /50x.html;</span><br><span class="line">      location = /50x.html &#123;</span><br><span class="line">          root   html;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h4 id="162-é…ç½®è§£æ"><a class="markdownIt-Anchor" href="#162-é…ç½®è§£æ"></a> 1.6.2 é…ç½®è§£æ</h4>
<p>worker_processes 1; é»˜è®¤ä¸º 1ï¼Œè¡¨ç¤ºå¼€å¯ä¸€ä¸ªä¸šåŠ¡è¿›ç¨‹<br>
worker_connections 1024; å•ä¸ªä¸šåŠ¡è¿›ç¨‹å¯æ¥å—è¿æ¥æ•°<br>
include mime.types; å¼•å…¥ http mime ç±»å‹ã€‚æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œè®°å½•äº†å¸¸è§çš„æ–‡ä»¶ç±»å‹ã€‚<br>
default_type application/octet-stream; å¦‚æœ mime ç±»å‹æ²¡åŒ¹é…ä¸Šï¼Œé»˜è®¤ä½¿ç”¨äºŒè¿›åˆ¶æµçš„æ–¹å¼ä¼ è¾“ã€‚<br>
sendfile on; ä½¿ç”¨ linux çš„ sendfile(socket, file, len) é«˜æ•ˆç½‘ç»œä¼ è¾“ï¼Œä¹Ÿå°±æ˜¯æ•°æ® 0 æ‹·è´ã€‚<br>
keepalive_timeout 65;<br>
serverï¼šè™šæ‹Ÿä¸»æœºé…ç½®ï¼Œä¸€ä¸ª server å°±æ˜¯ä¸€ä¸ªè™šæ‹Ÿä¸»æœºã€‚</p>
<ul>
<li>listenï¼šç«¯å£å·</li>
<li>server_nameï¼šä¸»æœºå</li>
<li>locationï¼šåŒ¹é…è·¯å¾„
<ul>
<li>rootï¼šæ–‡ä»¶ç›®å½•</li>
<li>indexï¼šé»˜è®¤é¡µæ–‡ä»¶åç§°</li>
</ul>
</li>
<li>error_pageï¼šæŠ¥é”™ç¼–ç å¯¹åº”é¡µé¢</li>
</ul>
<h2 id="2-nginx-å®æˆ˜"><a class="markdownIt-Anchor" href="#2-nginx-å®æˆ˜"></a> 2. Nginx å®æˆ˜</h2>
<h3 id="20-å®æˆ˜åŸºç¡€"><a class="markdownIt-Anchor" href="#20-å®æˆ˜åŸºç¡€"></a> 2.0 å®æˆ˜åŸºç¡€</h3>
<h4 id="201-è™šæ‹Ÿä¸»æœºä¸åŸŸåè§£æ"><a class="markdownIt-Anchor" href="#201-è™šæ‹Ÿä¸»æœºä¸åŸŸåè§£æ"></a> 2.0.1 è™šæ‹Ÿä¸»æœºä¸åŸŸåè§£æ</h4>
<ol>
<li>åŸŸåã€dnsã€ip åœ°å€çš„å…³ç³»ï¼š</li>
</ol>
<p><img src="/2022/08/25/nginx/Nginx/image-1669758254322.png" alt="image.png"></p>
<ol start="2">
<li>æµè§ˆå™¨ã€Nginx ä¸ http åè®®çš„å…³ç³»ï¼š</li>
<li>è™šæ‹Ÿä¸»æœºåŸç†ï¼šåŸæœ¬ä¸€å°æœåŠ¡å™¨åªèƒ½å¯¹åº”ä¸€ä¸ªç«™ç‚¹ï¼Œé€šè¿‡è™šæ‹Ÿä¸»æœºæŠ€æœ¯å¯ä»¥è™šæ‹ŸåŒ–æˆå¤šä¸ªç«™ç‚¹åŒæ—¶å¯¹å¤–æä¾›æœåŠ¡
<ul>
<li>ä½¿ç”¨ server é…ç½®ï¼Œä¸è™šæ‹Ÿæœºæ–‡ä»¶ç›®å½•å»ºç«‹å¯¹åº”å…³ç³»</li>
</ul>
</li>
</ol>
<h4 id="202-server_name"><a class="markdownIt-Anchor" href="#202-server_name"></a> 2.0.2 server_name</h4>
<ol>
<li>server_name å¤šåŸŸåé…ç½®ï¼šä½¿ç”¨ç©ºæ ¼å°†å¤šä¸ªåŸŸååˆ†å¼€</li>
<li>åŸŸååŒ¹é…æ ¹æ®ä»ä¸Šåˆ°ä¸‹çš„é¡ºåºï¼Œåªæœ‰ä¸€ä¸ªå…¥å£ã€‚</li>
<li>å¦‚æœåŸŸåå…¨éƒ¨éƒ½æ²¡ç²¾ç¡®åŒ¹é…ï¼Œä¸”åŸŸåè§£æè®¾ç½®äº†é€šé…ç¬¦åŒ¹é…ï¼Œåˆ™æŒ‰ç…§ç»Ÿé…ç¬¦çš„åŒ¹é…è§„åˆ™è¿›è¡Œã€‚</li>
<li>server_name ä¹Ÿå¯ä»¥è®¾ç½®é€šé…ç¬¦åŒ¹é…ï¼ŒåŒ¹é…è§„åˆ™åŒé˜¿é‡Œäº‘è§£æã€‚</li>
<li>æ”¯æŒæ­£åˆ™åŒ¹é…</li>
</ol>
<h4 id="203-åŸŸåè§£ææŠ€æœ¯æ¶æ„"><a class="markdownIt-Anchor" href="#203-åŸŸåè§£ææŠ€æœ¯æ¶æ„"></a> 2.0.3 åŸŸåè§£ææŠ€æœ¯æ¶æ„</h4>
<ol>
<li>æœ¬æœº hosts æ–‡ä»¶ï¼šæœ¬æœºè®¾ç½®äº† 127.0.0.1 ä¸www.123.comçš„åŸŸåæ˜ å°„ï¼Œæ‰€ä»¥è®¿é—®www.123.comä¹Ÿèƒ½è®¿é—®åˆ°ã€‚
<ul>
<li><img src="/2022/08/25/nginx/Nginx/image-1669758258033.png" alt="image.png"></li>
</ul>
</li>
<li>é˜¿é‡Œäº‘ dns æœåŠ¡ï¼šé€šè¿‡é˜¿é‡Œäº‘å¹³å°è®¾ç½® dns ä¸ ip çš„æ˜ å°„ï¼Œå¯ä»¥æµ‹è¯•åˆ°å¯ä»¥æ­£å¸¸è®¿é—®ã€‚
<ul>
<li><img src="/2022/08/25/nginx/Nginx/image-1669758260258.png" alt="image.png"></li>
<li><img src="/2022/08/25/nginx/Nginx/image-1669758262300.png" alt="image.png"></li>
</ul>
</li>
</ol>
<p>å¤šç”¨æˆ·äºŒçº§åŸŸå<br>
çŸ­ç½‘å€<br>
httpdns</p>
<h3 id="21-åå‘ä»£ç†"><a class="markdownIt-Anchor" href="#21-åå‘ä»£ç†"></a> 2.1 åå‘ä»£ç†</h3>
<h4 id="211-æ­£å‘ä»£ç†"><a class="markdownIt-Anchor" href="#211-æ­£å‘ä»£ç†"></a> 2.1.1 æ­£å‘ä»£ç†</h4>
<p>æ­£å‘ä»£ç† æ˜¯ä¸€ä¸ªä½äºå®¢æˆ·ç«¯å’ŒåŸå§‹æœåŠ¡å™¨(origin server)ä¹‹é—´çš„æœåŠ¡å™¨ï¼Œä¸ºäº†ä»åŸå§‹æœåŠ¡å™¨å–å¾—å†…å®¹ï¼Œå®¢æˆ·ç«¯å‘ä»£ç†å‘é€ä¸€ä¸ªè¯·æ±‚å¹¶æŒ‡å®šç›®æ ‡(åŸå§‹æœåŠ¡å™¨)ï¼Œç„¶åä»£ç†å‘åŸå§‹æœåŠ¡å™¨è½¬äº¤è¯·æ±‚å¹¶å°†è·å¾—çš„å†…å®¹è¿”å›ç»™å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯å¿…é¡»è¦è¿›è¡Œä¸€äº›ç‰¹åˆ«çš„è®¾ç½®æ‰èƒ½ä½¿ç”¨æ­£å‘ä»£ç†ã€‚</p>
<h4 id="212-åå‘ä»£ç†"><a class="markdownIt-Anchor" href="#212-åå‘ä»£ç†"></a> 2.1.2 åå‘ä»£ç†</h4>
<p>åå‘ä»£ç†ï¼ˆReverse Proxyï¼‰å®é™…è¿è¡Œæ–¹å¼æ˜¯æŒ‡ä»¥ä»£ç†æœåŠ¡å™¨æ¥æ¥å— internet ä¸Šçš„è¿æ¥è¯·æ±‚ï¼Œç„¶åå°†è¯·æ±‚è½¬å‘ç»™å†…éƒ¨ç½‘ç»œä¸Šçš„æœåŠ¡å™¨ï¼Œå¹¶å°†ä»æœåŠ¡å™¨ä¸Šå¾—åˆ°çš„ç»“æœè¿”å›ç»™ internet ä¸Šè¯·æ±‚è¿æ¥çš„å®¢æˆ·ç«¯ï¼Œæ­¤æ—¶ä»£ç†æœåŠ¡å™¨å¯¹å¤–å°±è¡¨ç°ä¸ºä¸€ä¸ªæœåŠ¡å™¨ã€‚<br>
<img src="/2022/08/25/nginx/Nginx/image-1669758264751.png" alt="image.png"></p>
<h4 id="213-åå‘ä»£ç†é…ç½®"><a class="markdownIt-Anchor" href="#213-åå‘ä»£ç†é…ç½®"></a> 2.1.3 åå‘ä»£ç†é…ç½®</h4>
<p>åœ¨è™šæ‹Ÿæœºä¸­å¼€å¯äº† nginxï¼Œåœ¨è™šæ‹Ÿæœºä¸­ç›´æ¥è®¿é—® localhostã€127.0.0.1ã€192.168.150.110 ä¸‰ä¸ªåœ°å€å‡èƒ½è®¿é—®åˆ°é¡µé¢ï¼Œå…¶ä¸­ localhostã€127.0.0.1 ä¸ºè™šæ‹Ÿæœºæœ¬æœºè®¿é—®ï¼Œç”¨ä¸åˆ°ä»£ç†ã€‚ä»£ç†æœåŠ¡å™¨å°±æ˜¯åº”ç”¨æœåŠ¡å™¨çš„ä½œç”¨ã€‚</p>
<p>å®ç°æ•ˆæœï¼šæœ¬åœ°æˆ–è€…ç½‘ç»œçš„æ–¹å¼è®¿é—® nginx æœåŠ¡å™¨çš„åœ°å€ï¼Œå¯ä»¥è®¿é—®åˆ°å…¶ä»–æœåŠ¡å™¨çš„å†…å®¹ï¼Œè€Œè¯·æ±‚åœ°å€æ²¡æœ‰å‘ç”Ÿå˜åŒ–ã€‚</p>
<p>å¦‚ï¼š<img src="/2022/08/25/nginx/Nginx/image-1669758267301.png" alt="image.png"><br>
å¯ä»¥è®¾è®¡å¦‚ä¸‹åå‘ä»£ç†åœºæ™¯ï¼š</p>
<p>åå‘ä»£ç†æœåŠ¡å™¨ 1ï¼šè¯·æ±‚ 192.168.150.110:80ï¼Œè¿”å›<a target="_blank" rel="noopener" href="http://www.baidu.xn--com-5w2hk61lemb">http://www.baidu.comçš„é¡µé¢</a></p>
<p>åå‘ä»£ç†æœåŠ¡å™¨ 2ï¼šè¯·æ±‚ 192.168.150.110:81ï¼Œè¿”å›<a target="_blank" rel="noopener" href="http://www.sk370.top:8080">http://www.sk370.top:8080</a></p>
<p>æ³¨æ„ï¼š1.ç”±äº 192.168.150.110 ä¸www.sk370.topæ˜¯åŸŸåè§£æï¼Œç”±é˜¿é‡Œäº‘æœåŠ¡å™¨å®Œæˆï¼Œä¸æ¶‰åŠä»£ç†æœåŠ¡å™¨ï¼ŒäºŒè€…æœ¬è´¨æ˜¯æ¥è‡ªä¸€ä¸ªåœ°æ–¹çš„è¯·æ±‚ã€‚ï¼ˆwww.sk370.topçš„è¯·æ±‚ä¼šè¢«é˜¿é‡Œäº‘æœåŠ¡å™¨è§£ææˆipåœ°å€å»è¯·æ±‚ï¼‰ 2.åŒæ—¶ï¼Œåœ¨æœ¬åœ°ä¸»æœºä¸èƒ½ä½¿ç”¨ localhost:80 æˆ– 81 å’Œ 127.0.0.1:80 æˆ– 81 å»è®¿é—®å‘¢ï¼Œè¿™ä¸¤ä¸ªè®¿é—®åªèƒ½åœ¨è™šæ‹Ÿæœºä¸­è¿›è¡Œã€‚ 3.<a target="_blank" rel="noopener" href="http://www.sk370.xn--top-nd9d0xy3kt1e2v9a">http://www.sk370.topä¹Ÿå¯ä»¥å†™æˆ</a><a target="_blank" rel="noopener" href="http://127.0.0.xn--1http-xm6jl44o">http://127.0.0.1æˆ–è€…http</a>ğŸ˜•/localhost:8080æˆ–è€…htttp://192.168.150.100</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">worker_processes  1;</span><br><span class="line"></span><br><span class="line">events &#123;</span><br><span class="line">    worker_connections  1024;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">    include       mime.types;</span><br><span class="line">    default_type  application/octet-stream;</span><br><span class="line"></span><br><span class="line">    sendfile        on;</span><br><span class="line"></span><br><span class="line">    keepalive_timeout  65;</span><br><span class="line"></span><br><span class="line">    server &#123;</span><br><span class="line">        listen       80;</span><br><span class="line">        server_name  localhost;</span><br><span class="line"></span><br><span class="line">        location / &#123;</span><br><span class="line">           proxy_pass http://www.baidu.com;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">        error_page   500 502 503 504  /50x.html;</span><br><span class="line">        location = /50x.html &#123;</span><br><span class="line">            root   html;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼šåå‘ä»£ç†çš„å…³é”®é…ç½®è¯­å¥ä¸º proxy_passï¼Œåœ°å€å¿…é¡»å†™å…¨åè®®ï¼Œæ³¨æ„æœ«å°¾åˆ†å·ã€‚</p>
<h4 id="214-å¤š-webappæœåŠ¡é…ç½®"><a class="markdownIt-Anchor" href="#214-å¤š-webappæœåŠ¡é…ç½®"></a> 2.1.4 å¤š webappï¼ˆæœåŠ¡ï¼‰é…ç½®</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">http &#123;</span><br><span class="line">	#æ­¤å¤„çœç•¥ä¸€äº›åŸºæœ¬é…ç½®</span><br><span class="line"></span><br><span class="line">	upstream product_server&#123;</span><br><span class="line">		server www.helloworld.com:8081;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	upstream admin_server&#123;</span><br><span class="line">		server www.helloworld.com:8082;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	upstream finance_server&#123;</span><br><span class="line">		server www.helloworld.com:8083;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	server &#123;</span><br><span class="line">		#æ­¤å¤„çœç•¥ä¸€äº›åŸºæœ¬é…ç½®</span><br><span class="line">		#é»˜è®¤æŒ‡å‘productçš„server</span><br><span class="line">		location / &#123;</span><br><span class="line">			proxy_pass http://product_server;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		location /product/&#123;</span><br><span class="line">			proxy_pass http://product_server;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		location /admin/ &#123;</span><br><span class="line">			proxy_pass http://admin_server;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		location /finance/ &#123;</span><br><span class="line">			proxy_pass http://finance_server;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="215-https-çš„åå‘ä»£ç†"><a class="markdownIt-Anchor" href="#215-https-çš„åå‘ä»£ç†"></a> 2.1.5 https çš„åå‘ä»£ç†</h4>
<ul>
<li>HTTPS çš„å›ºå®šç«¯å£å·æ˜¯ 443ï¼Œä¸åŒäº HTTP çš„ 80 ç«¯å£</li>
<li>SSL æ ‡å‡†éœ€è¦å¼•å…¥å®‰å…¨è¯ä¹¦ï¼Œæ‰€ä»¥åœ¨ nginx.conf ä¸­ä½ éœ€è¦æŒ‡å®šè¯ä¹¦å’Œå®ƒå¯¹åº”çš„ key</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#HTTPæœåŠ¡å™¨</span><br><span class="line">server &#123;</span><br><span class="line">    #ç›‘å¬443ç«¯å£ã€‚443ä¸ºçŸ¥åç«¯å£å·ï¼Œä¸»è¦ç”¨äºHTTPSåè®®</span><br><span class="line">    listen       443 ssl;</span><br><span class="line"></span><br><span class="line">    #å®šä¹‰ä½¿ç”¨www.xx.comè®¿é—®</span><br><span class="line">    server_name  www.helloworld.com;</span><br><span class="line"></span><br><span class="line">    #sslè¯ä¹¦æ–‡ä»¶ä½ç½®(å¸¸è§è¯ä¹¦æ–‡ä»¶æ ¼å¼ä¸ºï¼šcrt/pem)</span><br><span class="line">    ssl_certificate      cert.pem;</span><br><span class="line">    #sslè¯ä¹¦keyä½ç½®</span><br><span class="line">    ssl_certificate_key  cert.key;</span><br><span class="line"></span><br><span class="line">    #sslé…ç½®å‚æ•°ï¼ˆé€‰æ‹©æ€§é…ç½®ï¼‰</span><br><span class="line">    ssl_session_cache    shared:SSL:1m;</span><br><span class="line">    ssl_session_timeout  5m;</span><br><span class="line">    #æ•°å­—ç­¾åï¼Œæ­¤å¤„ä½¿ç”¨MD5</span><br><span class="line">    ssl_ciphers  HIGH:!aNULL:!MD5;</span><br><span class="line">    ssl_prefer_server_ciphers  on;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">        root   /root;</span><br><span class="line">        index  index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="22-è´Ÿè½½å‡è¡¡"><a class="markdownIt-Anchor" href="#22-è´Ÿè½½å‡è¡¡"></a> 2.2 è´Ÿè½½å‡è¡¡</h3>
<h4 id="221-ä»‹ç»"><a class="markdownIt-Anchor" href="#221-ä»‹ç»"></a> 2.2.1 ä»‹ç»</h4>
<p><img src="/2022/08/25/nginx/Nginx/image-1669758272381.png" alt="image.png"></p>
<h4 id="222-ç®€ç‰ˆè´Ÿè½½å‡è¡¡"><a class="markdownIt-Anchor" href="#222-ç®€ç‰ˆè´Ÿè½½å‡è¡¡"></a> 2.2.2 ç®€ç‰ˆè´Ÿè½½å‡è¡¡</h4>
<p>å°†æœåŠ¡å™¨ 100 ä½œä¸ºè´Ÿè½½å‡è¡¡å™¨<br>
<img src="/2022/08/25/nginx/Nginx/image-1669758274645.png" alt="image.png"></p>
<h4 id="223-é…ç½®æƒé‡"><a class="markdownIt-Anchor" href="#223-é…ç½®æƒé‡"></a> 2.2.3 é…ç½®æƒé‡</h4>
<p><img src="/2022/08/25/nginx/Nginx/image-1669758276512.png" alt="image.png"></p>
<h4 id="224-å–æ¶ˆä»£ç†ä½œç”¨"><a class="markdownIt-Anchor" href="#224-å–æ¶ˆä»£ç†ä½œç”¨"></a> 2.2.4 å–æ¶ˆä»£ç†ä½œç”¨</h4>
<p><img src="/2022/08/25/nginx/Nginx/image-1669758278080.png" alt="image.png"></p>
<h4 id="225-backup-ä½œç”¨"><a class="markdownIt-Anchor" href="#225-backup-ä½œç”¨"></a> 2.2.5 backup ä½œç”¨</h4>
<p><img src="/2022/08/25/nginx/Nginx/image-1669758279653.png" alt="image.png"></p>
<h4 id="226-å…¶ä»–ç­–ç•¥"><a class="markdownIt-Anchor" href="#226-å…¶ä»–ç­–ç•¥"></a> 2.2.6 å…¶ä»–ç­–ç•¥</h4>
<p>è½®è¯¢å­˜åœ¨é—®é¢˜ï¼šæ— æ³•ä¿æŒä¼šè¯ã€‚ï¼ˆè§£å†³ä¼šè¯ï¼šä½¿ç”¨åŸºäºå®¢æˆ·ç«¯çš„æ— çŠ¶æ€ token ä¼šè¯ä¿æŒæœºåˆ¶ï¼Œæ¯æ¬¡è¯·æ±‚è¿›è¡Œå‘é€ï¼ŒæœåŠ¡å™¨æ¥æ”¶åˆ°åè¿›è¡Œè§£å¯†ï¼‰</p>
<ol>
<li>ip_hash ç­–ç•¥ï¼šæ ¹æ®å®¢æˆ·ç«¯çš„ ip è½¬å‘åŒä¸€å°æœåŠ¡å™¨ã€‚ç§»åŠ¨ç«¯ ip æ ¹æ®åŸºç«™ä½ç½®ç¡®å®šï¼Œip æ ¹æ®ä½ç½®å˜åŒ–è€Œå˜åŒ–ï¼Œä¹Ÿæ— æ³•ä¿æŒä¼šè¯ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">upstream bck_testing_01 &#123;</span><br><span class="line"></span><br><span class="line">  ip_hash;</span><br><span class="line"></span><br><span class="line">  # with default weight for all (weight=1)</span><br><span class="line">  server 192.168.250.220:8080</span><br><span class="line">  server 192.168.250.221:8080</span><br><span class="line">  server 192.168.250.222:8080</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>least_connï¼šå°†è¯·æ±‚è½¬å‘åˆ°å½“å‰è¿æ¥æ•°æœ€å°‘çš„ç”¨æˆ·ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œè¿æ¥å°‘å¯èƒ½æ˜¯å› ä¸ºæƒé‡ä½ï¼ˆè®¾ç½®ä½æƒé‡æ˜¯å› ä¸ºé…ç½®ä½ï¼‰ï¼Œè¿™æ˜¯ä¸å½“åˆè®¾è®¡è¿èƒŒçš„ã€‚åŒæ—¶ä¸æ”¯æŒåŠ¨æ€ä¸Šä¸‹çº¿ï¼Œæ¯”å¦‚æ–°å¢äº†ä¸€å°æœåŠ¡åŒºï¼Œè‚¯å®šå½“å‰è¿æ¥æ•°ä¸º 0ï¼Œéœ€è¦å…¶ä»–æœåŠ¡å™¨å°†è¿æ¥æ•°è½¬åˆ°æ–°ä¸Šçº¿çš„æœåŠ¡å™¨ï¼Œè¿‡ç¨‹è€—æ—¶ã€‚ä¸‹é¢æ˜¯åŠ æƒæœ€å°è¿æ¥çš„é…ç½®ï¼Œå»æ‰æƒé‡å°±æ˜¯æ™®é€šæœ€å°è¿æ¥çš„é…ç½®ã€‚</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">upstream bck_testing_01 &#123;</span><br><span class="line">  least_conn;</span><br><span class="line"></span><br><span class="line">  server 192.168.250.220:8080   weight=3</span><br><span class="line">  server 192.168.250.221:8080              # default weight=1</span><br><span class="line">  server 192.168.250.222:8080              # default weight=1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>url_hashï¼šæ ¹æ®ç”¨äºè®¿é—®è®¿é—®çš„ url è½¬å‘è¯·æ±‚ï¼ˆå®šå‘æµé‡è½¬å‘ï¼‰ï¼Œä¹Ÿä¸èƒ½ç»´æŒä¼šè¯ã€‚é€‚ç”¨äºè®¿é—®å›ºå®šèµ„æºä¸åœ¨åŒä¸€æœåŠ¡å™¨ã€‚</li>
<li>fairï¼šæ ¹æ®åç«¯çš„æœåŠ¡å™¨å“åº”æ—¶é—´è½¬å‘è¯·æ±‚ã€‚å“åº”å¿«çš„æœåŠ¡å™¨æ¥æ”¶çš„è¯·æ±‚å¤šï¼Œå­˜åœ¨æµé‡å€¾æ–œé£é™©ï¼Œä¸”éœ€è¦ç¬¬ä¸‰æ–¹æ’ä»¶å®ç°ã€‚å®˜æ–¹ä¸æ¨èã€‚</li>
</ol>
<h3 id="23-åŠ¨é™åˆ†ç¦»"><a class="markdownIt-Anchor" href="#23-åŠ¨é™åˆ†ç¦»"></a> 2.3 åŠ¨é™åˆ†ç¦»</h3>
<h4 id="231-åŠ¨é™åˆ†ç¦»é…ç½®"><a class="markdownIt-Anchor" href="#231-åŠ¨é™åˆ†ç¦»é…ç½®"></a> 2.3.1 åŠ¨é™åˆ†ç¦»é…ç½®</h4>
<p>æ¦‚å¿µï¼šå°†é™æ€èµ„æºæ”¾åœ¨ nginx æœåŠ¡å™¨æˆ–å…¶ä»–æœåŠ¡å™¨ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">location / &#123;</span><br><span class="line">  proxy_pass http://127.0.0.1:8080;</span><br><span class="line">&#125;</span><br><span class="line">location /css &#123;</span><br><span class="line">  root /usr/local/nginx/static;</span><br><span class="line">  index index.html index.htm;</span><br><span class="line">&#125;</span><br><span class="line">location /images &#123;</span><br><span class="line">  root /usr/local/nginx/static;</span><br><span class="line">  index index.html index.htm;</span><br><span class="line">&#125;</span><br><span class="line">location /js &#123;</span><br><span class="line">  root /usr/local/nginx/static;</span><br><span class="line">  index index.html index.htm;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="232-æ­£åˆ™åŒ¹é…ä¼˜åŒ–-location-æ•°ç›®"><a class="markdownIt-Anchor" href="#232-æ­£åˆ™åŒ¹é…ä¼˜åŒ–-location-æ•°ç›®"></a> 2.3.2 æ­£åˆ™åŒ¹é…ä¼˜åŒ– location æ•°ç›®</h4>
<ol>
<li>location å‰ç¼€è§£é‡Šï¼š
<ul>
<li><code>/</code>é€šç”¨åŒ¹é…ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½ä¼šåŒ¹é…åˆ°ã€‚</li>
<li><code>=</code>ç²¾ç¡®åŒ¹é…ï¼Œä¸æ˜¯ä»¥æŒ‡å®šæ¨¡å¼å¼€å¤´</li>
<li><code>~</code>æ­£åˆ™åŒ¹é…ï¼ŒåŒºåˆ†å¤§å°å†™</li>
<li><code>~*</code>æ­£åˆ™åŒ¹é…ï¼Œä¸åŒºåˆ†å¤§å°å†™ã€‚</li>
<li><code>^~</code>éæ­£åˆ™åŒ¹é…ï¼ŒåŒ¹é…ä»¥æŒ‡å®šæ¨¡å¼å¼€å¤´çš„</li>
</ul>
</li>
<li>location åŒ¹é…é¡ºåºï¼š
<ul>
<li>å¤šä¸ªæ­£åˆ™ location ç›´æ¥æŒ‰ä¹¦å†™é¡ºåºåŒ¹é…ï¼ŒæˆåŠŸåå°±ä¸ä¼šç»§ç»­å¾€åé¢åŒ¹é…</li>
<li>æ™®é€šï¼ˆéæ­£åˆ™ï¼‰location ä¼šä¸€ç›´å¾€ä¸‹ï¼Œç›´åˆ°æ‰¾åˆ°åŒ¹é…åº¦æœ€é«˜çš„ï¼ˆæœ€å¤§å‰ç¼€åŒ¹é…ï¼‰</li>
<li>å½“æ™®é€š location ä¸æ­£åˆ™ location åŒæ—¶å­˜åœ¨ï¼Œå¦‚æœæ­£åˆ™åŒ¹é…æˆåŠŸ,åˆ™ä¸ä¼šå†æ‰§è¡Œæ™®é€šåŒ¹é…</li>
<li>æ‰€æœ‰ç±»å‹ location å­˜åœ¨æ—¶ï¼Œâ€œ=â€åŒ¹é… &gt; â€œ^~â€åŒ¹é… &gt; æ­£åˆ™åŒ¹é… &gt; æ™®é€šï¼ˆæœ€å¤§å‰ç¼€åŒ¹é…ï¼‰</li>
</ul>
</li>
</ol>
<h4 id="233-alias-ä¸-root"><a class="markdownIt-Anchor" href="#233-alias-ä¸-root"></a> 2.3.3 alias ä¸ root</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">location ~*/(css|img|js) &#123;</span><br><span class="line">  root /usr/local/nginx/static;</span><br><span class="line">  index index.html index.htm;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">location /css &#123;</span><br><span class="line">  alias /usr/local/nginx/static/css;</span><br><span class="line">  index index.html index.htm;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>root ç”¨æ¥è®¾ç½®æ ¹ç›®å½•ï¼Œè€Œ alias åœ¨æ¥å—è¯·æ±‚çš„æ—¶å€™åœ¨è·¯å¾„ä¸Šä¸ä¼šåŠ ä¸Š locationã€‚</li>
<li>alias æŒ‡å®šçš„ç›®å½•æ˜¯å‡†ç¡®çš„ï¼Œå³ location åŒ¹é…è®¿é—®çš„ path ç›®å½•ä¸‹çš„æ–‡ä»¶ç›´æ¥æ˜¯åœ¨ alias ç›®å½•ä¸‹æŸ¥æ‰¾çš„ï¼›</li>
<li>root æŒ‡å®šçš„ç›®å½•æ˜¯ location åŒ¹é…è®¿é—®çš„ path ç›®å½•çš„ä¸Šä¸€çº§ç›®å½•,è¿™ä¸ª path ç›®å½•ä¸€å®šè¦æ˜¯çœŸå®å­˜åœ¨ root æŒ‡å®šç›®å½•ä¸‹çš„ï¼›</li>
<li>ä½¿ç”¨ alias æ ‡ç­¾çš„ç›®å½•å—ä¸­ä¸èƒ½ä½¿ç”¨ rewrite çš„ breakï¼ˆå…·ä½“åŸå› ä¸æ˜ï¼‰ï¼›å¦å¤–ï¼Œalias æŒ‡å®šçš„ç›®å½•åé¢å¿…é¡»è¦åŠ ä¸Š&quot;/&quot;ç¬¦å·ï¼ï¼</li>
<li>alias è™šæ‹Ÿç›®å½•é…ç½®ä¸­ï¼Œlocation åŒ¹é…çš„ path ç›®å½•å¦‚æœåé¢ä¸å¸¦&quot;/â€œï¼Œé‚£ä¹ˆè®¿é—®çš„ url åœ°å€ä¸­è¿™ä¸ª path ç›®å½•åé¢åŠ ä¸åŠ â€/â€œä¸å½±å“è®¿é—®ï¼Œè®¿é—®æ—¶å®ƒä¼šè‡ªåŠ¨åŠ ä¸Šâ€/â€œï¼› ä½†æ˜¯å¦‚æœ location åŒ¹é…çš„ path ç›®å½•åé¢åŠ ä¸Šâ€/â€œï¼Œé‚£ä¹ˆè®¿é—®çš„ url åœ°å€ä¸­è¿™ä¸ª path ç›®å½•å¿…é¡»è¦åŠ ä¸Šâ€/â€œï¼Œè®¿é—®æ—¶å®ƒä¸ä¼šè‡ªåŠ¨åŠ ä¸Šâ€/â€œã€‚å¦‚æœä¸åŠ ä¸Šâ€/&quot;ï¼Œè®¿é—®å°±ä¼šå¤±è´¥ï¼</li>
<li>root ç›®å½•é…ç½®ä¸­ï¼Œlocation åŒ¹é…çš„ path ç›®å½•åé¢å¸¦ä¸å¸¦&quot;/&quot;ï¼Œéƒ½ä¸ä¼šå½±å“è®¿é—®ã€‚</li>
</ul>
<h3 id="24-urlrewrite"><a class="markdownIt-Anchor" href="#24-urlrewrite"></a> 2.4 UrlRewrite</h3>
<blockquote>
<p>ä½¿ç”¨æ„ä¹‰ï¼š</p>
<ul>
<li>é…ç½®çŸ­åœ°å€</li>
<li>éšè—çœŸå®è¯·æ±‚åœ°å€</li>
<li>è®¾ç½®é˜²ç«å¢™éš”ç¦»</li>
</ul>
</blockquote>
<h4 id="241-rewrite-è¯­æ³•æ ¼å¼åŠå‚æ•°è¯­æ³•"><a class="markdownIt-Anchor" href="#241-rewrite-è¯­æ³•æ ¼å¼åŠå‚æ•°è¯­æ³•"></a> 2.4.1 rewrite è¯­æ³•æ ¼å¼åŠå‚æ•°è¯­æ³•</h4>
<p>è¯­æ³•ï¼š<code>rewrite &lt;regex&gt; &lt;replacement&gt; [flag]</code></p>
<ul>
<li>flag æ ‡è®°è¯´æ˜ï¼š
<ul>
<li>last #æœ¬æ¡è§„åˆ™åŒ¹é…å®Œæˆåï¼Œç»§ç»­å‘ä¸‹åŒ¹é…æ–°çš„ location URI è§„åˆ™</li>
<li>break #æœ¬æ¡è§„åˆ™åŒ¹é…å®Œæˆå³ç»ˆæ­¢ï¼Œä¸å†åŒ¹é…åé¢çš„ä»»ä½•è§„åˆ™</li>
<li>redirect #è¿”å› 302 ä¸´æ—¶é‡å®šå‘ï¼Œæµè§ˆå™¨åœ°å€ä¼šæ˜¾ç¤ºè·³è½¬åçš„ URL åœ°å€ã€ç”¨äºç»™çˆ¬è™«å±•ç¤ºã€‘</li>
<li>permanent #è¿”å› 301 æ°¸ä¹…é‡å®šå‘ï¼Œæµè§ˆå™¨åœ°å€æ ä¼šæ˜¾ç¤ºè·³è½¬åçš„ URL åœ°å€ ã€ç”¨äºç»™çˆ¬è™«å±•ç¤ºã€‘</li>
</ul>
</li>
</ul>
<h4 id="242-ç¤ºä¾‹"><a class="markdownIt-Anchor" href="#242-ç¤ºä¾‹"></a> 2.4.2 ç¤ºä¾‹</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">location / &#123;</span><br><span class="line">  rewrite ^/([0-9]+).html$ /index.jsp?pageNum=$1 break;</span><br><span class="line">  proxy_pass http://127.0.0.1:8080;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ•ˆæœï¼šè®¿é—®<code>http://192.168.150.100:8080/index.jsp?pageNum=1</code>æµè§ˆå™¨åœ°å€æ æ˜¾å¼çš„æ˜¯<code>http://192.168.150.100:8080/1.html</code></p>
<h3 id="25-è§£å†³è·¨åŸŸ"><a class="markdownIt-Anchor" href="#25-è§£å†³è·¨åŸŸ"></a> 2.5 è§£å†³è·¨åŸŸ</h3>
<p>è§£å†³è·¨åŸŸé—®é¢˜ä¸€èˆ¬æœ‰ä¸¤ç§æ€è·¯ï¼š</p>
<ol>
<li>CORSï¼šåœ¨åç«¯æœåŠ¡å™¨è®¾ç½® HTTP å“åº”å¤´ï¼ŒæŠŠä½ éœ€è¦å…è®¸è®¿é—®çš„åŸŸååŠ å…¥ Access-Control-Allow-Origin ä¸­ã€‚</li>
<li>jsonpï¼šæŠŠåç«¯æ ¹æ®è¯·æ±‚ï¼Œæ„é€  json æ•°æ®ï¼Œå¹¶è¿”å›ï¼Œå‰ç«¯ç”¨ jsonp è·¨åŸŸã€‚</li>
</ol>
<p>ä¸¾ä¾‹ï¼š<a target="_blank" rel="noopener" href="http://www.helloworld.com/">www.helloworld.com</a> ç½‘ç«™æ˜¯ç”±ä¸€ä¸ªå‰ç«¯ app ï¼Œä¸€ä¸ªåç«¯ app ç»„æˆçš„ã€‚å‰ç«¯ç«¯å£å·ä¸º 9000ï¼Œ åç«¯ç«¯å£å·ä¸º 8080ã€‚</p>
<p>å‰ç«¯å’Œåç«¯å¦‚æœä½¿ç”¨ http è¿›è¡Œäº¤äº’æ—¶ï¼Œè¯·æ±‚ä¼šè¢«æ‹’ç»ï¼Œå› ä¸ºå­˜åœ¨è·¨åŸŸé—®é¢˜ã€‚nginx è§£å†³è·¨åŸŸå¦‚ä¸‹ï¼š</p>
<p>é¦–å…ˆï¼Œæ–°å»º enable-cors.conf æ–‡ä»¶ï¼Œè®¾ç½® cors ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"># allow origin list</span><br><span class="line">set $ACAO &#x27;*&#x27;;</span><br><span class="line"></span><br><span class="line"># set single origin</span><br><span class="line">if ($http_origin ~* (www.helloworld.com)$) &#123;</span><br><span class="line">  set $ACAO $http_origin;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if ($cors = &quot;trueget&quot;) &#123;</span><br><span class="line">	add_header &#x27;Access-Control-Allow-Origin&#x27; &quot;$http_origin&quot;;</span><br><span class="line">	add_header &#x27;Access-Control-Allow-Credentials&#x27; &#x27;true&#x27;;</span><br><span class="line">	add_header &#x27;Access-Control-Allow-Methods&#x27; &#x27;GET, POST, OPTIONS&#x27;;</span><br><span class="line">	add_header &#x27;Access-Control-Allow-Headers&#x27; &#x27;DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type&#x27;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if ($request_method = &#x27;OPTIONS&#x27;) &#123;</span><br><span class="line">  set $cors &quot;$&#123;cors&#125;options&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if ($request_method = &#x27;GET&#x27;) &#123;</span><br><span class="line">  set $cors &quot;$&#123;cors&#125;get&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if ($request_method = &#x27;POST&#x27;) &#123;</span><br><span class="line">  set $cors &quot;$&#123;cors&#125;post&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ nginx.conf ä¸­ include enable-cors.conf æ¥å¼•å…¥è·¨åŸŸé…ç½®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"># ----------------------------------------------------</span><br><span class="line"># æ­¤æ–‡ä»¶ä¸ºé¡¹ç›® nginx é…ç½®ç‰‡æ®µ</span><br><span class="line"># å¯ä»¥ç›´æ¥åœ¨ nginx config ä¸­ includeï¼ˆæ¨èï¼‰</span><br><span class="line"># æˆ–è€… copy åˆ°ç°æœ‰ nginx ä¸­ï¼Œè‡ªè¡Œé…ç½®</span><br><span class="line"># www.helloworld.com åŸŸåéœ€é…åˆ dns hosts è¿›è¡Œé…ç½®</span><br><span class="line"># å…¶ä¸­ï¼Œapi å¼€å¯äº† corsï¼Œéœ€é…åˆæœ¬ç›®å½•ä¸‹å¦ä¸€ä»½é…ç½®æ–‡ä»¶</span><br><span class="line"># ----------------------------------------------------</span><br><span class="line">upstream front_server&#123;</span><br><span class="line">  server www.helloworld.com:9000;</span><br><span class="line">&#125;</span><br><span class="line">upstream api_server&#123;</span><br><span class="line">  server www.helloworld.com:8080;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">  listen       80;</span><br><span class="line">  server_name  www.helloworld.com;</span><br><span class="line"></span><br><span class="line">  location ~ ^/api/ &#123;</span><br><span class="line">    include enable-cors.conf;</span><br><span class="line">    proxy_pass http://api_server;</span><br><span class="line">    rewrite &quot;^/api/(.*)$&quot; /$1 break;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  location ~ ^/ &#123;</span><br><span class="line">    proxy_pass http://front_server;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="26-ç½‘å…³"><a class="markdownIt-Anchor" href="#26-ç½‘å…³"></a> 2.6 ç½‘å…³</h3>
<p>å‰é¢ç»™ nginx æœåŠ¡å™¨é…ç½®äº†åå‘ä»£ç†ã€è´Ÿè½½å‡è¡¡ã€UrlWriteã€è·¨åŸŸç­‰åŠŸèƒ½ï¼Œå·²ç»ä¸èƒ½å«ä¸€ä¸ªæ™®é€šçš„æœåŠ¡å™¨äº†ï¼Œæ­¤æ—¶å«åšç½‘å…³æœåŠ¡å™¨ã€‚<br>
ç½‘å…³æœåŠ¡å™¨é…ç½®éœ€è¦åˆ©ç”¨åå‘ä»£ç†ã€é˜²ç«å¢™å®ç°ã€‚å®ç°æ•ˆæœï¼šå¤–éƒ¨è¯·æ±‚åªèƒ½å‘é€åˆ°ç½‘å…³æœåŠ¡å™¨ï¼Œtomcat åªæ¥å—ç½‘å…³æœåŠ¡å™¨çš„è¯·æ±‚ã€‚</p>
<ol>
<li>æŒ‡å®šè¯·æ±‚åœ°å€ä¸è¯·æ±‚ç«¯å£ï¼Œè®© tomcat åªæ¥æ”¶ç½‘å…³çš„è¯·æ±‚ï¼š<code>firewall-cmd --permanent --add-rich-rule=&quot;rule family=&quot;ipv4&quot; source address=&quot;192.168.44.101&quot; port protocol=&quot;tcp&quot; port=&quot;8080&quot; accept&quot;</code></li>
<li>ç½‘å…³é…ç½®ï¼š</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">upstream httpds &#123;</span><br><span class="line">  server 192.168.44.102 weight=8 down;</span><br><span class="line">  server 192.168.44.103:8080 weight=2;</span><br><span class="line">  server 192.168.44.104:8080 weight=1 backup;</span><br><span class="line">&#125;</span><br><span class="line">location / &#123;</span><br><span class="line">  rewrite ^/([0-9]+).html$ /index.jsp?pageNum=$1 redirect;</span><br><span class="line">  proxy_pass http://httpds ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id><a class="markdownIt-Anchor" href="#"></a> </h3>

        
            <div id="toc-article">
                
  <div class="widget-wrap" id="toc-wrap">
    <h3 class="widget-title"><i class="fa fa-toc"></i> æ–‡ç« ç›®å½•</h3>
    <div class="widget">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#0-%E5%87%86%E5%A4%87"><span class="toc-text"> 0. å‡†å¤‡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#01-%E5%AE%89%E8%A3%85-centos-%E8%BF%B7%E4%BD%A0%E7%89%88"><span class="toc-text"> 0.1 å®‰è£… Centos è¿·ä½ ç‰ˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#02-%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE"><span class="toc-text"> 0.2 ç½‘ç»œé…ç½®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#03-%E9%85%8D%E7%BD%AE%E9%9D%99%E6%80%81-ip"><span class="toc-text"> 0.3 é…ç½®é™æ€ ip</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#04-%E8%A7%A3%E5%86%B3%E8%AE%BE%E7%BD%AE%E9%9D%99%E6%80%81-ip-%E5%90%8E%E6%97%A0%E6%B3%95%E8%81%94%E7%BD%91%E9%97%AE%E9%A2%98"><span class="toc-text"> 0.4 è§£å†³è®¾ç½®é™æ€ IP åæ— æ³•è”ç½‘é—®é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#041-%E6%8E%92%E6%9F%A5%E7%BD%91%E5%85%B3%E8%AE%BE%E7%BD%AE%E6%98%AF%E5%90%A6%E6%AD%A3%E7%A1%AE"><span class="toc-text"> 0.4.1 æ’æŸ¥ç½‘å…³è®¾ç½®æ˜¯å¦æ­£ç¡®</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#05-%E5%AE%89%E8%A3%85-tomcat-%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-text"> 0.5 å®‰è£… Tomcat æœåŠ¡å™¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-nginx-%E4%BB%8B%E7%BB%8D"><span class="toc-text"> 1. Nginx ä»‹ç»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-%E7%89%88%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-text"> 1.1 ç‰ˆæœ¬ä»‹ç»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-nginx-%E5%BC%80%E6%BA%90%E7%89%88%E5%AE%89%E8%A3%85"><span class="toc-text"> 1.2 Nginx å¼€æºç‰ˆå®‰è£…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-%E9%98%B2%E7%81%AB%E5%A2%99%E8%A1%A5%E5%85%85%E7%9F%A5%E8%AF%86"><span class="toc-text"> 1.3 é˜²ç«å¢™è¡¥å……çŸ¥è¯†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84"><span class="toc-text"> 1.4 æ–‡ä»¶ç»“æ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-%E5%9F%BA%E6%9C%AC%E8%BF%90%E8%A1%8C%E5%8E%9F%E7%90%86"><span class="toc-text"> 1.5 åŸºæœ¬è¿è¡ŒåŸç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-nginx-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text"> 1.6 nginx é…ç½®æ–‡ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#161-%E6%9C%80%E5%B0%8F%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text"> 1.6.1 æœ€å°é…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#162-%E9%85%8D%E7%BD%AE%E8%A7%A3%E6%9E%90"><span class="toc-text"> 1.6.2 é…ç½®è§£æ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-nginx-%E5%AE%9E%E6%88%98"><span class="toc-text"> 2. Nginx å®æˆ˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#20-%E5%AE%9E%E6%88%98%E5%9F%BA%E7%A1%80"><span class="toc-text"> 2.0 å®æˆ˜åŸºç¡€</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#201-%E8%99%9A%E6%8B%9F%E4%B8%BB%E6%9C%BA%E4%B8%8E%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90"><span class="toc-text"> 2.0.1 è™šæ‹Ÿä¸»æœºä¸åŸŸåè§£æ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#202-server_name"><span class="toc-text"> 2.0.2 server_name</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#203-%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90%E6%8A%80%E6%9C%AF%E6%9E%B6%E6%9E%84"><span class="toc-text"> 2.0.3 åŸŸåè§£ææŠ€æœ¯æ¶æ„</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#21-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86"><span class="toc-text"> 2.1 åå‘ä»£ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#211-%E6%AD%A3%E5%90%91%E4%BB%A3%E7%90%86"><span class="toc-text"> 2.1.1 æ­£å‘ä»£ç†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#212-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86"><span class="toc-text"> 2.1.2 åå‘ä»£ç†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#213-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E9%85%8D%E7%BD%AE"><span class="toc-text"> 2.1.3 åå‘ä»£ç†é…ç½®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#214-%E5%A4%9A-webapp%E6%9C%8D%E5%8A%A1%E9%85%8D%E7%BD%AE"><span class="toc-text"> 2.1.4 å¤š webappï¼ˆæœåŠ¡ï¼‰é…ç½®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#215-https-%E7%9A%84%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86"><span class="toc-text"> 2.1.5 https çš„åå‘ä»£ç†</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22-%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1"><span class="toc-text"> 2.2 è´Ÿè½½å‡è¡¡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#221-%E4%BB%8B%E7%BB%8D"><span class="toc-text"> 2.2.1 ä»‹ç»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#222-%E7%AE%80%E7%89%88%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1"><span class="toc-text"> 2.2.2 ç®€ç‰ˆè´Ÿè½½å‡è¡¡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#223-%E9%85%8D%E7%BD%AE%E6%9D%83%E9%87%8D"><span class="toc-text"> 2.2.3 é…ç½®æƒé‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#224-%E5%8F%96%E6%B6%88%E4%BB%A3%E7%90%86%E4%BD%9C%E7%94%A8"><span class="toc-text"> 2.2.4 å–æ¶ˆä»£ç†ä½œç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#225-backup-%E4%BD%9C%E7%94%A8"><span class="toc-text"> 2.2.5 backup ä½œç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#226-%E5%85%B6%E4%BB%96%E7%AD%96%E7%95%A5"><span class="toc-text"> 2.2.6 å…¶ä»–ç­–ç•¥</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#23-%E5%8A%A8%E9%9D%99%E5%88%86%E7%A6%BB"><span class="toc-text"> 2.3 åŠ¨é™åˆ†ç¦»</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#231-%E5%8A%A8%E9%9D%99%E5%88%86%E7%A6%BB%E9%85%8D%E7%BD%AE"><span class="toc-text"> 2.3.1 åŠ¨é™åˆ†ç¦»é…ç½®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#232-%E6%AD%A3%E5%88%99%E5%8C%B9%E9%85%8D%E4%BC%98%E5%8C%96-location-%E6%95%B0%E7%9B%AE"><span class="toc-text"> 2.3.2 æ­£åˆ™åŒ¹é…ä¼˜åŒ– location æ•°ç›®</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#233-alias-%E4%B8%8E-root"><span class="toc-text"> 2.3.3 alias ä¸ root</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#24-urlrewrite"><span class="toc-text"> 2.4 UrlRewrite</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#241-rewrite-%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%AD%E6%B3%95"><span class="toc-text"> 2.4.1 rewrite è¯­æ³•æ ¼å¼åŠå‚æ•°è¯­æ³•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#242-%E7%A4%BA%E4%BE%8B"><span class="toc-text"> 2.4.2 ç¤ºä¾‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#25-%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F"><span class="toc-text"> 2.5 è§£å†³è·¨åŸŸ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#26-%E7%BD%91%E5%85%B3"><span class="toc-text"> 2.6 ç½‘å…³</span></a></li><li class="toc-item toc-level-3"><a class="toc-link"><span class="toc-text"> </span></a></li></ol></li></ol>
    </div>
  </div>


            </div>
        
        
          <blockquote id="copyright">
              <p>åŸæ–‡é“¾æ¥: <a href="https://sk370.github.io/2022/08/25/nginx/Nginx/">https://sk370.github.io/2022/08/25/nginx/Nginx/</a></p>
              <p>ç‰ˆæƒå£°æ˜: è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Nginx/" rel="tag">Nginx</a></li></ul>

          
    <div class="social-share">
      <span>åˆ†äº«åˆ°:</span>
    </div>



        </div>
      
      
        
<nav id="article-nav">
  
    <a href="/2022/08/20/docker/docker/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">older</strong>
      <div class="article-nav-title">
        
          Docker
        
      </div>
    </a>
  
  
    <a href="/2022/08/26/zookeeper/zookeeper/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">newer</strong>
      <div class="article-nav-title">
        
          zookeeper
        
      </div>
    </a>
  
</nav>

      
      
        








      
    </footer>
  </div>
</article>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-posts"></i> æœ€æ–°æ–‡ç« </h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/12/03/blog/hexo/">Hexo + GitHub Pagesæ­å»ºé™æ€åšå®¢</a>
          </li>
        
          <li>
            <a href="/2022/10/29/%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7/%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7/">æ€§èƒ½ç›‘æ§</a>
          </li>
        
          <li>
            <a href="/2022/10/29/%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95/%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95/">å‹åŠ›æµ‹è¯•</a>
          </li>
        
          <li>
            <a href="/2022/10/29/springcloud/SpringCloudGateway/">Spring Cloud Gateway</a>
          </li>
        
          <li>
            <a href="/2022/10/29/springcloud/SpringCloudFeign/">Spring Cloud Feign</a>
          </li>
        
      </ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-tag"></i> æ ‡ç­¾äº‘</h3>
    <div class="widget tagcloud">
      <a href="/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/tags/Dubbo/" style="font-size: 10px;">Dubbo</a> <a href="/tags/EhCache/" style="font-size: 10px;">EhCache</a> <a href="/tags/ElasticSearch/" style="font-size: 10px;">ElasticSearch</a> <a href="/tags/JMeter/" style="font-size: 10px;">JMeter</a> <a href="/tags/JSP/" style="font-size: 10px;">JSP</a> <a href="/tags/JUC/" style="font-size: 10px;">JUC</a> <a href="/tags/JVM/" style="font-size: 10px;">JVM</a> <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/Java8/" style="font-size: 10px;">Java8</a> <a href="/tags/JavaWeb/" style="font-size: 10px;">JavaWeb</a> <a href="/tags/Kubernetes/" style="font-size: 10px;">Kubernetes</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a> <a href="/tags/MyBatis/" style="font-size: 10px;">MyBatis</a> <a href="/tags/MyBatis-Plus/" style="font-size: 10px;">MyBatis-Plus</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/Nginx/" style="font-size: 10px;">Nginx</a> <a href="/tags/RabbitMQ/" style="font-size: 10px;">RabbitMQ</a> <a href="/tags/Redis/" style="font-size: 10px;">Redis</a> <a href="/tags/SSM/" style="font-size: 10px;">SSM</a> <a href="/tags/Shiro/" style="font-size: 10px;">Shiro</a> <a href="/tags/Spring-Cloud/" style="font-size: 10px;">Spring Cloud</a> <a href="/tags/Spring-Cloud-Alibaba/" style="font-size: 10px;">Spring Cloud Alibaba</a> <a href="/tags/Spring-Cloud-Feign/" style="font-size: 10px;">Spring Cloud Feign</a> <a href="/tags/Spring-Cloud-Gateway/" style="font-size: 10px;">Spring Cloud Gateway</a> <a href="/tags/Spring-MVC/" style="font-size: 10px;">Spring MVC</a> <a href="/tags/Spring-Security/" style="font-size: 10px;">Spring Security</a> <a href="/tags/Spring-Session/" style="font-size: 10px;">Spring Session</a> <a href="/tags/Spring5/" style="font-size: 10px;">Spring5</a> <a href="/tags/Srping-Boot2/" style="font-size: 10px;">Srping Boot2</a> <a href="/tags/Thymeleaf/" style="font-size: 10px;">Thymeleaf</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/jconsole/" style="font-size: 10px;">jconsole</a> <a href="/tags/jvisualvm/" style="font-size: 10px;">jvisualvm</a> <a href="/tags/zookeeper/" style="font-size: 10px;">zookeeper</a> <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E6%A1%86%E6%9E%B6/" style="font-size: 10px;">åˆ†å¸ƒå¼æ¡†æ¶</a> <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%90%86%E8%AE%BA/" style="font-size: 10px;">åˆ†å¸ƒå¼ç†è®º</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-classify"></i> åˆ†ç±»</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Dubbo/">Dubbo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ElasticSearch/">ElasticSearch</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JVM/">JVM</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaWeb/">JavaWeb</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java%E5%9F%BA%E7%A1%80/">JavaåŸºç¡€</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java%E6%96%B0%E7%89%B9%E6%80%A7/">Javaæ–°ç‰¹æ€§</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/MyBatis/">MyBatis</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/MyBatis-Plus/">MyBatis-Plus</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/SSM/">SSM</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Shiro/">Shiro</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Cloud/">Spring Cloud</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Cloud-Alibaba/">Spring Cloud Alibaba</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Framework/">Spring Framework</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Security/">Spring Security</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Session/">Spring Session</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Srping-Boot/">Srping Boot</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95/">å‹åŠ›æµ‹è¯•</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A4%9A%E7%BA%BF%E7%A8%8B/">å¤šçº¿ç¨‹</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AE%B9%E5%99%A8%E6%8A%80%E6%9C%AF/">å®¹å™¨æŠ€æœ¯</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7/">æ€§èƒ½ç›‘æ§</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF%E7%90%86%E8%AE%BA/">æŠ€æœ¯ç†è®º</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/">æ­å»ºåšå®¢</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">æ•°æ®åº“</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/">æœåŠ¡å™¨</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/">æ„å»ºå·¥å…·</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/">æ¨¡æ¿å¼•æ“</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/">æ¶ˆæ¯é˜Ÿåˆ—</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%93%E5%AD%98/">ç¼“å­˜</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-archive"></i> å½’æ¡£</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/">2022å¹´</a><span class="archive-list-count">36</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-tag"></i> æ ‡ç­¾</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/" rel="tag">Docker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Dubbo/" rel="tag">Dubbo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/EhCache/" rel="tag">EhCache</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ElasticSearch/" rel="tag">ElasticSearch</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JMeter/" rel="tag">JMeter</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JSP/" rel="tag">JSP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JUC/" rel="tag">JUC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/" rel="tag">JVM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java8/" rel="tag">Java8</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaWeb/" rel="tag">JavaWeb</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kubernetes/" rel="tag">Kubernetes</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Maven/" rel="tag">Maven</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MyBatis/" rel="tag">MyBatis</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MyBatis-Plus/" rel="tag">MyBatis-Plus</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/" rel="tag">Nginx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RabbitMQ/" rel="tag">RabbitMQ</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/" rel="tag">Redis</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSM/" rel="tag">SSM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shiro/" rel="tag">Shiro</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Cloud/" rel="tag">Spring Cloud</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Cloud-Alibaba/" rel="tag">Spring Cloud Alibaba</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Cloud-Feign/" rel="tag">Spring Cloud Feign</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Cloud-Gateway/" rel="tag">Spring Cloud Gateway</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-MVC/" rel="tag">Spring MVC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Security/" rel="tag">Spring Security</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-Session/" rel="tag">Spring Session</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring5/" rel="tag">Spring5</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Srping-Boot2/" rel="tag">Srping Boot2</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Thymeleaf/" rel="tag">Thymeleaf</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jconsole/" rel="tag">jconsole</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jvisualvm/" rel="tag">jvisualvm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zookeeper/" rel="tag">zookeeper</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E6%A1%86%E6%9E%B6/" rel="tag">åˆ†å¸ƒå¼æ¡†æ¶</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%90%86%E8%AE%BA/" rel="tag">åˆ†å¸ƒå¼ç†è®º</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


  
    

  
</aside>
        
      </div>
      <a id="totop" href="#top"></a>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      <p>
        <a href="/sitemap.xml">ç½‘ç«™åœ°å›¾</a>
        <span> | </span><a href="/atom.xml">è®¢é˜…æœ¬ç«™</a>
        <span> | </span><a href="/about/">è”ç³»åšä¸»</a>
      </p>
      
        <p>
          <i class="fa fa-visitors"></i>
          <i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>
          ï¼Œ
          <i class="fa fa-views"></i>
          <i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>
        </p>
      
      <p>
        <span>Copyright &copy; 2022 SK370.</span>
        <span>Theme by <a href="https://github.com/chaooo/hexo-theme-BlueLake/" target="_blank">BlueLake.</a></span>
        <span>Powered by <a href="https://hexo.io/" target="_blank">Hexo.</a></span>
      </p>
    </div>
  </div>
</footer>

    </div>
  </div>
  
<script src="/js/jquery-3.4.1.min.js"></script>


<script src="/js/search.json.js"></script>


  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>






  
<script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  
    
<script src="/localshare/js/social-share.js"></script>

    
<script src="/localshare/js/qrcode.js"></script>

  
  



  

  

  

  

  

  

  

  
  





</body>
</html>